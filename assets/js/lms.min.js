!function(c){"use strict";var e={};function t(){var a,l,e,t;e=c(".eltdf-element-link-open"),a=c(".eltdf-course-popup"),l=c(".eltdf-popup-content"),e.length&&e.each(function(){var t=c(this);t.on("click",function(e){e.preventDefault(),a.hasClass("eltdf-course-popup-opened")||(a.addClass("eltdf-course-popup-opened"),eltdf.modules.common.eltdfDisableScroll());e=0;void 0!==t.data("course-id")&&!1!==t.data("course-id")&&(e=t.data("course-id")),f(t.data("item-id"),e,l)})}),e=c(".eltdf-course-popup-close"),t=c(".eltdf-course-popup"),e.length&&e.on("click",function(e){e.preventDefault(),t.removeClass("eltdf-course-popup-opened"),location.reload()}),u(),c(".eltdf-lms-retake-course-form").on("submit",function(e){e.preventDefault();e=c(this).serialize();c.ajax({type:"POST",data:{action:"academist_lms_retake_course",post:e},url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){e=JSON.parse(e);"success"===e.status&&(alert(e.message),location.reload())}})}),m()}function f(e,t,o){var r=o.prevAll(".eltdf-course-item-preloader");r.removeClass("eltdf-hide"),c.ajax({type:"POST",data:{action:"academist_lms_load_element_item",item_id:e,course_id:t},url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,l,s,n,d,i,e=JSON.parse(e);"success"===e.status?(o.html(e.data.html),e=c(".eltdf-course-popup-navigation .eltdf-element-link-open"),i=c(".eltdf-popup-content"),e.length&&e.each(function(){var t=c(this);t.on("click",function(e){e.preventDefault();e=0;void 0!==t.data("course-id")&&!1!==t.data("course-id")&&(e=t.data("course-id")),f(t.data("item-id"),e,i)})}),u(),m(),eltdf.modules.quiz.eltdfStartQuiz(),r.addClass("eltdf-hide"),e=c(".eltdf-course-popup"),t=c(".eltdf-popup-content"),a=c(".eltdf-course-popup-inner"),l=c(".eltdf-popup-heading"),s=c(".eltdf-course-popup-items"),n=c(".eltdf-popup-info-wrapper"),d=c(".eltdf-lms-search-holder"),1024<eltdf.windowWidth?(t.length&&(t.height(e.height()-l.outerHeight()),eltdf.modules.common.eltdfInitPerfectScrollbar().init(t)),s.length&&(s.height(e.height()-parseInt(n.css("padding-top"))-parseInt(n.css("padding-bottom"))-d.outerHeight(!0)),eltdf.modules.common.eltdfInitPerfectScrollbar().init(s))):((l=a.find(".eltdf-grid-row")).height(e.height()),eltdf.modules.common.eltdfInitPerfectScrollbar().init(l))):(alert("An error occurred"),r.addClass("eltdf-hide"))}})}function u(){c(".eltdf-lms-complete-item-form").on("submit",function(e){e.preventDefault();var t=c(this),a=c(this).find("input[name$='academist_lms_item_id']").val(),e=t.serialize();c.ajax({type:"POST",data:{action:"academist_lms_complete_item",post:e},url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){e=JSON.parse(e);"success"===e.status&&(t.replaceWith(e.data.content_message),c(".eltdf-section-element.eltdf-section-lesson").each(function(){c(this).data("section-element-id")===a&&c(this).addClass("eltdf-item-completed")}))}})})}function m(){var e=c(".eltdf-lms-search-holder");e.length&&e.each(function(){var a,e=c(this),t=e.find(".eltdf-lms-search-field"),l=e.find(".eltdf-lms-search-results"),s=e.find(".eltdf-search-loading"),n=e.find(".eltdf-search-icon");s.addClass("eltdf-hidden"),t.on("keyup paste",function(e){var t=c(this);t.attr("autocomplete","off"),s.removeClass("eltdf-hidden"),n.addClass("eltdf-hidden"),clearTimeout(a),a=setTimeout(function(){var e=t.val();e.length<3?(l.html(""),l.fadeOut(),s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden")):c.ajax({type:"POST",data:{action:"academist_lms_search_courses",term:e},url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){e=JSON.parse(e);"success"===e.status&&(s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.html(e.data.html),l.fadeIn())},error:function(e,t,a){console.log("Status: "+t),console.log("Error: "+a),s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.fadeOut()}})},500)}),t.on("focusout",function(){s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.fadeOut()})})}(eltdf.modules.course=e).eltdfOnDocumentReady=t,c(document).ready(t)}(jQuery),function(i){"use strict";var e={};function t(){c(),f(),u(),o()}function a(){}function l(){}function s(){}function o(){var e=i(".eltdf-question-answers"),t=e.find("input[type=radio]"),a=e.find("input[type=checkbox]"),e=e.find("input[type=text]"),l=i(".eltdf-lms-question-actions-check-form"),s=i(".eltdf-lms-question-next-form"),n=i(".eltdf-lms-question-prev-form"),d=i(".eltdf-lms-finish-quiz-form");t.change(function(){l.find("input[name=academist_lms_question_answer]").val(this.value),s.find("input[name=academist_lms_question_answer]").val(this.value),n.find("input[name=academist_lms_question_answer]").val(this.value),d.find("input[name=academist_lms_question_answer]").val(this.value)}),a.on("change",function(){var e=i("input[type=checkbox]:checked").map(function(){return this.value}).get().join(",");l.find("input[name=academist_lms_question_answer]").val(e),s.find("input[name=academist_lms_question_answer]").val(e),n.find("input[name=academist_lms_question_answer]").val(e),d.find("input[name=academist_lms_question_answer]").val(e)}).change(),e.on("change paste keyup",function(){l.find("input[name=academist_lms_question_answer]").val(i(this).val()),s.find("input[name=academist_lms_question_answer]").val(i(this).val()),n.find("input[name=academist_lms_question_answer]").val(i(this).val()),d.find("input[name=academist_lms_question_answer]").val(i(this).val())})}function r(a,e,t,l){var s=a.find("input[type=radio]"),n=a.find("input[type=checkbox]"),d=a.find("input[type=text]");"yes"===l&&(a.find("input").prop("disabled",!0),s.length&&(i.each(e,function(e,t){e=a.find("input[type=radio][value="+e+"]");!0===t?e.parent().addClass("eltdf-true"):e.parent().addClass("eltdf-false")}),i.each(t,function(e,t){e=a.find("input[type=radio][value="+e+"]");!0===t&&e.parent().addClass("eltdf-base-true")})),n.length&&(i.each(e,function(e,t){e=a.find("input[type=checkbox][value="+e+"]");!0===t?e.parent().addClass("eltdf-true"):e.parent().addClass("eltdf-false")}),i.each(t,function(e,t){e=a.find("input[type=checkbox][value="+e+"]");!0===t&&e.parent().addClass("eltdf-base-true")})),d.length&&(e?d.parent().addClass("eltdf-true"):(d.parent().addClass("eltdf-false"),d.parent().append('<p class="eltdf-base-answer">'+t+"</p>"))))}function c(){var a=i(".eltdf-question-answer-wrapper");i(".eltdf-lms-question-actions-hint-form").on("submit",function(e){e.preventDefault();var e=i(this),t=e.serialize(),t={action:"academist_lms_check_question_hint",post:t+="&academist_lms_time_remaining="+i("input[name=academist_lms_time_remaining]").val()};e.find("input").prop("disabled",!0),i.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){e=JSON.parse(e);"success"===e.status&&a.append(e.data.html)}})})}function f(){var l=i(".eltdf-question-answer-wrapper");i(".eltdf-lms-question-actions-check-form").on("submit",function(e){e.preventDefault();var e=i(this),t=e.serialize(),t={action:"academist_lms_check_question_answer",post:t+="&academist_lms_time_remaining="+i("input[name=academist_lms_time_remaining]").val()};e.find("input").prop("disabled",!0),i.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,e=JSON.parse(e);"success"===e.status&&(t=e.data.result,a=e.data.original_result,e=e.data.answer_checked,r(l,t,a,e))}})})}function u(){var d=i(".eltdf-quiz-question-wrapper");i(".eltdf-lms-question-prev-form, .eltdf-lms-question-next-form").on("submit",function(e){e.preventDefault();var e=i(this).serialize(),t=i("input[name=academist_lms_time_remaining]"),a=i("input[name=academist_lms_retake_id]"),t={action:"academist_lms_change_question",post:(e+="&academist_lms_time_remaining="+t.val())+("&academist_lms_retake_id="+a.val())};i.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,l,s,n,e=JSON.parse(e);"success"===e.status&&(d.html(e.data.html),t=i(".eltdf-question-answer-wrapper"),a=e.data.result,l=e.data.original_result,s=e.data.answer_checked,c(),f(),u(),o(),n=e.data.question_position,i(".eltdf-question-number-completed").text(n),n=e.data.question_id,i(".eltdf-lms-finish-quiz-form").find("input[name=academist_lms_question_id]").val(n),r(t,a,l,s),eltdf.modules.quiz.eltdfFinishQuiz())}})})}(eltdf.modules.question=e).eltdfQuestionHint=c,e.eltdfQuestionCheck=f,e.eltdfQuestionChange=u,e.eltdfQuestionAnswerChange=o,e.eltdfValidateAnswer=r,e.eltdfQuestionSave=function(){i(window).unload(function(){var e=i(".eltdf-lms-question-next-form"),e=(e=e.length?e:i("eltdf-lms-question-prev-form")).serialize(),t=i("input[name=academist_lms_time_remaining]"),a=i("input[name=academist_lms_retake_id]"),e=(e+="&academist_lms_time_remaining="+t.val())+"&academist_lms_retake_id="+a.val();console.log(e),i.ajax({type:"POST",data:{action:"academist_lms_save_question",post:e},async:!1,url:eltdfGlobalVars.vars.eltdfAjaxUrl})})},e.eltdfOnDocumentReady=t,e.eltdfOnWindowLoad=a,e.eltdfOnWindowResize=l,e.eltdfOnWindowScroll=s,i(document).ready(t),i(window).on("load",a),i(window).resize(l),i(window).scroll(s)}(jQuery),function(o){"use strict";var e={};function t(){l(),r()}function l(){var n=o(".eltdf-quiz-single-holder"),d=o(".eltdf-course-item-preloader");o(".eltdf-lms-start-quiz-form").on("submit",function(e){e.preventDefault(),d.removeClass("eltdf-hide");e=o(this).serialize();o.ajax({type:"POST",data:{action:"academist_lms_start_quiz",post:e},url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,l,s,i,e=JSON.parse(e);"success"===e.status?(t=e.data.question_id,a=e.data.quiz_id,l=e.data.course_id,e=e.data.retake,t=t,a=a,l=l,e=e,s=n,i=o(".eltdf-course-item-preloader"),t={action:"academist_lms_load_first_question",question_id:t,quiz_id:a,course_id:l,retake:e},o.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,n,l,d,e=JSON.parse(e);"success"===e.status?(s.html(e.data.html),eltdf.modules.question.eltdfQuestionHint(),eltdf.modules.question.eltdfQuestionCheck(),eltdf.modules.question.eltdfQuestionChange(),eltdf.modules.question.eltdfQuestionAnswerChange(),r(),l=o(".eltdf-question-answer-wrapper"),t=e.data.result,a=e.data.original_result,e=e.data.answer_checked,eltdf.modules.question.eltdfValidateAnswer(l,t,a,e),l=(n=o("#eltdf-quiz-timer")).data("duration"),d=o("input[name=academist_lms_time_remaining]"),n.vTimer("start",{duration:l}).on("update",function(e,t){var a=t,l=(l=a%60)<10?"0"+l:l,s=(s=Math.floor(a/60)%60)<10?"0"+s:s,a=Math.floor(a/60/60);n.text((a<10?"0"+a:a)+":"+s+":"+l),d.val(t)}).on("complete",function(){o(".eltdf-lms-finish-quiz-form").submit()})):alert("An error occurred"),i.addClass("eltdf-hide")}}),eltdf.modules.question.eltdfQuestionSave()):(alert("An error occurred"),d.addClass("eltdf-hide"))}})})}function r(){var t=o(".eltdf-quiz-single-holder"),a=o(".eltdf-course-item-preloader");o(".eltdf-lms-finish-quiz-form").on("submit",function(e){e.preventDefault();e=o(this).serialize(),e={action:"academist_lms_finish_quiz",post:e+="&academist_lms_time_remaining="+o("input[name=academist_lms_time_remaining]").val()};o.ajax({type:"POST",data:e,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){e=JSON.parse(e);"success"===e.status?(t.replaceWith(e.data.html),l()):alert("An error occurred"),a.addClass("eltdf-hide")}})})}(eltdf.modules.quiz=e).eltdfStartQuiz=l,e.eltdfFinishQuiz=r,e.eltdfOnDocumentReady=t,o(document).ready(t)}(jQuery),function(m){"use strict";var e={};function t(){var e;(e=m(".eltdf-course-list-holder")).length&&e.each(function(){var a,t,e,l,s=m(this);s.hasClass("eltdf-cl-has-filter")&&(e=(t=s).find(".eltdf-cl-filter-holder .eltdf-course-layout-filter"),l=e.find("span"),0<e.length&&l.on("click",function(){l.removeClass("eltdf-active");var e=m(this),e=(e.addClass("eltdf-active"),e.data("type"));t.removeClass("eltdf-cl-gallery eltdf-cl-simple"),t.addClass("eltdf-cl-"+e)}),(a=s).find(".eltdf-cl-filter-holder .eltdf-course-order-filter").select2({minimumResultsForSearch:-1}).on("select2:select",function(e){var e=e.params.data.element.dataset,t=e.type,e=e.order;a.data("orderby",t),a.data("order",e),a.data("next-page",1),n().getMainPagFunction(a,1)}))})}function a(){var e;(e=m(".eltdf-cl-has-filter-category .eltdf-cl-filter-holder")).length&&e.each(function(){var s=m(this),n=s.closest(".eltdf-course-list-holder"),d=n.find(".eltdf-cl-inner"),i=!!n.hasClass("eltdf-cl-pag-load-more");s.find(".eltdf-cl-filter:first").addClass("eltdf-cl-current"),n.hasClass("eltdf-cl-gallery")&&d.isotope(),s.find(".eltdf-cl-filter").on("click",function(){var e=m(this),t=e.attr("data-filter"),a=t.length?t.substring(1):"",l=!!d.children().hasClass(a);e.parent().children(".eltdf-cl-filter").removeClass("eltdf-cl-current"),e.addClass("eltdf-cl-current"),i&&!l&&t.length?eltdfInitLoadMoreItemsCourseFilter(n,t,a):(t=0===t.length?"*":t,s.parent().children(".eltdf-cl-inner").isotope({filter:t}),eltdf.modules.common.eltdfInitParallax())})}),d(),n().init()}function l(){n().scroll()}function n(){function s(e){var t=e.outerHeight(),a=e.offset().top,l=t+a-eltdfGlobalVars.vars.eltdfAddForAdminBar;console.log("a"+t),console.log("b"+a),console.log("c"+l),console.log("d"+eltdf.scroll+eltdf.windowHeight),!e.hasClass("eltdf-cl-infinite-scroll-started")&&eltdf.scroll+eltdf.windowHeight>l&&n(e)}function n(l,s){var n,d=l.find(".eltdf-cl-inner"),e=(void 0!==l.data("max-num-pages")&&!1!==l.data("max-num-pages")&&(n=l.data("max-num-pages")),l.hasClass("eltdf-cl-pag-standard")&&l.data("next-page",s),l.hasClass("eltdf-cl-pag-infinite-scroll")&&l.addClass("eltdf-cl-infinite-scroll-started"),eltdf.modules.common.getLoadMoreData(l)),i=l.find(".eltdf-cl-loading"),o=e.nextPage;(o<=n||0===n)&&(l.hasClass("eltdf-cl-pag-standard")?(i.addClass("eltdf-showing eltdf-standard-pag-trigger"),l.addClass("eltdf-cl-pag-standard-animate")):i.addClass("eltdf-showing"),e=eltdf.modules.common.setLoadMoreAjaxData(e,"academist_lms_course_ajax_load_more"),m.ajax({type:"POST",data:e,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){l.hasClass("eltdf-cl-pag-standard")||o++,l.data("next-page",o);var e=m.parseJSON(e),t=e.html,a=e.minValue,e=e.maxValue;l.hasClass("eltdf-cl-pag-standard")||1===s?(r(l,n,o),f(l,d,i,t),c(l,a,e)):(u(d,i,t),c(l,1,e)),l.hasClass("eltdf-cl-infinite-scroll-started")&&l.removeClass("eltdf-cl-infinite-scroll-started")}})),1===s&&l.find(".eltdf-cl-load-more-holder").show(),o===n&&l.find(".eltdf-cl-load-more-holder").hide()}var e=m(".eltdf-course-list-holder"),r=function(e,t,a){var e=e.find(".eltdf-cl-standard-pagination"),l=e.find("li.eltdf-cl-pag-number"),s=e.find("li.eltdf-cl-pag-prev a"),e=e.find("li.eltdf-cl-pag-next a");l.removeClass("eltdf-cl-pag-active"),l.eq(a-1).addClass("eltdf-cl-pag-active"),s.data("paged",a-1),e.data("paged",a+1),1<a?s.css({opacity:"1"}):s.css({opacity:"0"}),a===t?e.css({opacity:"0"}):e.css({opacity:"1"})},c=function(e,t,a){var e=e.find(".eltdf-course-items-counter"),l=e.find(".counter-min-value"),e=e.find(".counter-max-value");l.text(t),e.text(a)},f=function(e,t,a,l){a.removeClass("eltdf-showing eltdf-standard-pag-trigger"),t.waitForImages(function(){e.removeClass("eltdf-cl-pag-standard-animate"),t.html(l),t.css("height","auto"),d(),eltdf.modules.common.eltdfInitParallax()})},u=function(e,t,a){t.removeClass("eltdf-showing"),e.waitForImages(function(){e.append(a),d(),eltdf.modules.common.eltdfInitParallax()})};return{init:function(){e.length&&e.each(function(){var l,e,t,a=m(this);a.hasClass("eltdf-cl-pag-standard")&&(e=(l=a).find(".eltdf-cl-standard-pagination li")).length&&e.each(function(){var t=m(this).children("a"),a=1;t.on("click",function(e){e.preventDefault(),e.stopPropagation(),void 0!==t.data("paged")&&!1!==t.data("paged")&&(a=t.data("paged")),n(l,a)})}),a.hasClass("eltdf-cl-pag-load-more")&&(t=a).find(".eltdf-cl-load-more a").on("click",function(e){e.preventDefault(),e.stopPropagation(),n(t)}),a.hasClass("eltdf-cl-pag-infinite-scroll")&&s(a)})},scroll:function(){e.length&&e.each(function(){var e=m(this);e.hasClass("eltdf-cl-pag-infinite-scroll")&&s(e)})},getMainPagFunction:function(e,t){n(e,t)}}}function d(){var e=m(".eltdf-course-list-holder.eltdf-cl-has-animation");e.length&&e.each(function(){m(this).children(".eltdf-cl-inner").children("article").each(function(e){var t=m(this);t.appear(function(){t.addClass("eltdf-item-show"),setTimeout(function(){t.addClass("eltdf-item-shown")},1e3)},{accX:0,accY:0})})})}(eltdf.modules.courseList=e).eltdfOnDocumentReady=t,e.eltdfOnWindowLoad=a,e.eltdfOnWindowScroll=l,m(document).ready(t),m(window).on("load",a),m(window).scroll(l)}(jQuery),function(t){"use strict";var e={};function a(){var e;(e=t(".eltdf-advanced-course-search")).length&&e.each(function(){var e=t(this).find("select");e.length&&e.select2({minimumResultsForSearch:-1})})}(eltdf.modules.courseSearch=e).eltdfOnDocumentReady=a,t(document).ready(a)}(jQuery);